(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))h(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function d(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function h(i){if(i.ep)return;i.ep=!0;const s=d(i);fetch(i.href,s)}})();const o=document.createElement("canvas"),n=o.getContext("2d");document.querySelector("#app").appendChild(o);let x=500,p=500;o.width=x;o.height=p;o.style.width=`${x}px`;o.style.height=`${p}px`;o.style.border="5px solid black";o.style.display="block";o.style.margin="auto";const r={score:0,debugMode:!0,write(){n.font="14px Futura",n.fillText(`Score: ${this.score}`,10,50),this.debugMode&&this.writeDebug()},writeDebug(){n.font="16px Courier",n.fillStyle="red"}};let S=document.querySelector("#cat");const b=45,M=45;function $(e,t){n.drawImage(S,e,t,b,M)}const u={fallSpeed:25,cats:[{x:350,y:350},{x:125,y:250},{x:225,y:150}],add(e){for(let t=0;t<e;t++)this.cats.push({x:Math.random()*o.width,y:Math.random()*o.height})},remove(e){for(let t=0;t<e;t++)this.cats.pop()},move(){this.cats.forEach(e=>{e.y+=this.fallSpeed/10,e.y>o.height&&(e.y=-10,r.score>0&&(r.score-=1)),e.x>o.width&&(e.x=0),e.x<0&&(e.x=o.width)})},draw(){this.cats.forEach(e=>{$(e.x,e.y)})}};let k=document.querySelector("#dog");const q=50,C=50;function I(e,t){n.drawImage(k,e,t,q,C)}const m={fallSpeed:25,dogs:[{x:50,y:0},{x:275,y:300},{x:400,y:400}],add(e){for(let t=0;t<e;t++)this.dogs.push({x:Math.random()*o.width,y:Math.random()*o.height})},remove(e){for(let t=0;t<e;t++)this.dogs.pop()},move(){this.dogs.forEach(e=>{e.y+=this.fallSpeed/10,e.y>o.height&&(e.y=-10,r.score>0&&(r.score-=1)),e.x>o.width&&(e.x=0),e.x<0&&(e.x=o.width)})},draw(){this.dogs.forEach(e=>{I(e.x,e.y)})}};let L=document.querySelector("#meteorite");const F=60,O=60;function A(e,t){n.drawImage(L,e,t,F,O)}const y={fallSpeed:25,meteorites:[{x:100,y:0},{x:250,y:300},{x:225,y:405},{x:300,y:150},{x:405,y:201},{x:350,y:350}],add(e){for(let t=0;t<e;t++)this.meteorites.push({x:Math.random()*o.width,y:Math.random()*o.height})},remove(e){for(let t=0;t<e;t++)this.meteorites.pop()},move(){this.meteorites.forEach(e=>{e.y+=this.fallSpeed/10,e.x-=2,e.y>o.height&&(e.y=-10),e.x>o.width&&(e.x=0),e.x<0&&(e.x=o.width),r.score>100&&(e.y+=4,e.x-=1.5),r.score>200&&(e.y+=5,e.x-=3.5)})},draw(){this.meteorites.forEach(e=>{A(e.x,e.y)})}},c=document.createElement("img");c.src="Savingman.png";document.querySelector("#assets").appendChild(c);const v={img:c,ready:c.complete,frameWidth:32,frameHeight:32,totalFrames:5,draw(e,t,d=null,h=null,i){this.ready?(i=i%this.totalFrames,n.drawImage(this.img,this.frameWidth*i,0,this.frameWidth,this.frameHeight,e,t,d,h)):setTimeout(()=>this.draw(e,t,d,h,i),200)}};let a={x:10,y:220,frame:0,w:100,h:100,draw(){v.draw(this.x,this.y,this.w,this.h,this.frame)},check(e,t){return e>=this.x&&e<=this.x+this.w&&t>=this.y&&t<=this.y+this.h},move(){this.frame+=1}};const D=1;setInterval(()=>{n.clearRect(200,200,150,150),a.frame+=1,a.draw()},.5/D);c.addEventListener("load",()=>{console.log("Image is loaded!"),v.ready=!0});let g=["blue","purple","green","pink","teal","orange","indigo"],w=0,f=0;function N(){w+=1,o.style.backgroundColor=g[w%g.length]}o.addEventListener("mousemove",function(e){a.x=e.offsetX-50,a.y=e.offsetY-25});function E(){n.clearRect(0,0,o.width,o.height),P(),W(),window.requestAnimationFrame(E)}function P(){m.dogs.forEach(e=>{a.check(e.x+25,e.y+25)&&(r.score+=1,e.y=-5)}),u.cats.forEach(e=>{a.check(e.x+25,e.y+25)&&(console.log(r.score),r.score+=1,e.y=-5)}),y.meteorites.forEach(e=>{a.check(e.x+25,e.y+25)&&(console.log(r.score),r.score=0,e.x=505,f=0,o.style.backgroundColor="white")}),m.move(),u.move(),y.move(),a.move(),r.score==15+f&&(f+=15,N())}function W(){u.draw(),m.draw(),y.draw(),a.draw(),r.write()}window.requestAnimationFrame(E);
//# sourceMappingURL=index.a6ae0fa5.js.map
